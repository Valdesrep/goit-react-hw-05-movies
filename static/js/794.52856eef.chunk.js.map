{"version":3,"file":"static/js/794.52856eef.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesDetails/MoviesDetails.module.css?629c","components/MoviesDetails/MoviesDetails.jsx","servises/Api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"back\":\"MoviesDetails_back__wM0nJ\",\"box\":\"MoviesDetails_box__KFpfY\",\"thumb\":\"MoviesDetails_thumb__1GBY5\",\"poster\":\"MoviesDetails_poster__jJell\",\"Link\":\"MoviesDetails_Link__AxBek\",\"List\":\"MoviesDetails_List__bBscr\"};","import { useState, useEffect, Suspense, lazy } from 'react';\nimport { useParams, Link, Route, Routes, useLocation } from 'react-router-dom';\nimport { fetchById } from 'servises/Api';\nimport s from './MoviesDetails.module.css';\n\nconst Cast = lazy(() => import('../Cast/Cast'));\nconst Reviews = lazy(() => import('../Reviews/Reviews'));\n\nexport default function MoviesDetails() {\n  const { movieId } = useParams();\n  const [film, setFilm] = useState(null);\n  const location = useLocation();\n\n  useEffect(() => {\n    async function fetch() {\n      try {\n        const response = await fetchById(movieId);\n        setFilm(response);\n      } catch {\n        console.log('errror');\n      }\n    }\n    fetch();\n  }, [movieId]);\n\n  const path = location?.state?.from ?? '/';\n  return (\n    film && (\n      <>\n        <Link to={path} className={s.back}>\n          {'Go Back'}\n        </Link>\n        <div className={s.box}>\n          <div className={s.thumb}>\n            <img\n              className={s.poster}\n              src={`https://image.tmdb.org/t/p/w500${film.poster_path}`}\n              alt=\"\"\n              width=\"150px\"\n              onError={e => {\n                e.target.src =\n                  'https://image.shutterstock.com/image-vector/picture-vector-icon-no-image-600w-1350441335.jpg';\n              }}\n            />\n          </div>\n          <div>\n            <h1>\n              {film.title} ({film.release_date.slice(0, 4)})\n            </h1>\n            <p>User Score: {film.vote_average * 10}%</p>\n            <h2>Overview </h2>\n            <p>{film.overview}</p>\n            <h2>Genres</h2>\n            <p>\n              {film.genres.map(genre => (\n                <span key={genre.id}>{genre.name} </span>\n              ))}\n            </p>\n          </div>\n        </div>\n        <ul className={s.List}>\n          <li>\n            <Link to=\"cast\" className={s.Link} state={{ from: path }}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" className={s.Link} state={{ from: path }}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n        <Suspense fallback={<h1>Loading...</h1>}>\n          <Routes>\n            <Route path=\"cast\" element={<Cast id={movieId} />} />\n            <Route path=\"reviews\" element={<Reviews id={movieId} />} />\n          </Routes>\n        </Suspense>\n      </>\n    )\n  );\n}\n","import axios from 'axios';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'eef69e4613a866add8ae298195f2ed87';\n\nasync function fetchTrending() {\n  const url = `${BASE_URL}trending/movie/day?api_key=${API_KEY}`;\n  const response = await axios.get(url);\n  return response.data.results;\n}\n\nasync function fetchByQuery(query) {\n  const url = `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`;\n  const response = await axios.get(url);\n  return response.data.results;\n}\n\nasync function fetchById(id) {\n  const url = `${BASE_URL}/movie/${id}}?api_key=${API_KEY}&language=en-US`;\n  const response = await axios.get(url);\n  return response.data;\n}\nasync function fetchCredits(id) {\n  const url = `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}&language=en-US`;\n  const response = await axios.get(url);\n  return response.data.cast;\n}\nasync function fetchReviews(id) {\n  const url = `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n  const response = await axios.get(url);\n  return response.data.results;\n}\n\nexport { fetchTrending, fetchByQuery, fetchById, fetchCredits, fetchReviews };\n"],"names":["Cast","lazy","Reviews","MoviesDetails","movieId","useParams","useState","film","setFilm","location","useLocation","useEffect","fetchById","response","console","log","fetch","path","state","from","to","className","s","src","poster_path","alt","width","onError","e","target","title","release_date","slice","vote_average","overview","genres","map","genre","name","id","Suspense","fallback","element","BASE_URL","API_KEY","fetchTrending","url","axios","data","results","fetchByQuery","query","fetchCredits","cast","fetchReviews"],"sourceRoot":""}